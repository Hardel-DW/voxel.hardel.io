---
import { getTranslations } from "@/lib/i18n";
import { cn } from "@/lib/utils";
import type { HTMLAttributes } from "astro/types";
interface Props extends HTMLAttributes<"li"> {
    version: string;
    date: string;
    first?: boolean;
}

const { lang } = await getTranslations(Astro.url);
const props = Astro.props;
---

<li class="flex-col md:flex items-start space-x-3 relative">
    <div class={cn("hidden s:block absolute top-3 size-2.5 rounded-full border border-transparent -left-17.5", props.first ? "bg-zinc-200" : "border-zinc-zinc-700")}/>

    <div class="flex md:absolute md:right-[120%] gap-x-4 w-max">
        <a class="bg-zinc-950 border border-zinc-800 px-6 py-2 rounded-xl flex items-center text-base font-bold hover:underline uppercase">
            {new Date(props.date).toLocaleDateString(lang, { year: 'numeric', month: 'short', day: 'numeric' })}
        </a>
        <a rel="noopener noreferrer" href="#" class="bg-zinc-950 border border-zinc-800 px-6 py-2 rounded-xl flex items-center text-base font-bold hover:underline">
            {props.version}
        </a>
    </div>

    <div class="flex-1 space-y-2 mt-6 md:mt-0">
        <div class="relative prose prose-invert">
            <slot/>
        </div>
    </div>
</li>